<% content_for :title, "Short URLs" %>

<section class="w-1/2">
  <header>
    <h2 class="mb-2 text-2xl font-bold">All short URLs</h2>
  </header>
  <% if @links.present? %>
    <table class="mb-2 table-auto">
      <thead>
        <tr>
          <th class="p-2">Short URL</th>
          <th class="p-2">Destination</th>
          <th class="p-2">Status</th>
          <th class="p-2"></th>
          <th class="p-2"></th>
        </tr>
      </thead>
      <tbody>
        <% @links.each do |link| %>
        <tr>
          <td class="p-2"><a href="<%= full_short_url(link) %>" target="_blank" rel="noopener noreferer"><%= full_short_url(link) %></a></td>
          <td class="p-2"><a href="<%= link.url %>" target="_blank" rel="noopener noreferer"><%= link.url %></a></td>
          <td class="p-2"><% if link.enabled? %>Enabled<% else %><strong>Disabled</strong><% end %></td>
          <td class="p-2"><a href="<%= link_path(link) %>">View</a></td>
          <td class="p-2"><a href="<%= edit_link_path(link) %>">Edit</a></td>
        </tr>
        <% end %>
      </tbody>
    </table>
    <%== pagy_nav(@pagy) if @pagy.pages > 1 %>
  <% else %>
    <p class="mb-2">There are currently no short URLs.</p>
  <% end %>
  <p>
    <a href="<%= new_link_path %>">Create a short URL</a>
  </p>
</section>
